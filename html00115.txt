docs.netapp.com


Active IQ Unified Manager 9.13







Performance Service Levels


03/28/2022
Contributors
  







A Performance Service Level (PSL) enables you to define the performance and storage objectives for a workload. You can assign a PSL to a workload when initially creating the workload, or afterwards by editing the workload.


The management and monitoring of storage resources are based on Service Level Objectives (SLOs). SLOs are defined by service level agreements that are based on required performance and capacity. In Unified Manager, SLOs refer to the PSL definitions of the applications that are running on NetApp storage. Storage services are differentiated based on the performance and utilization of the underlying resources. A PSL is a description of the storage service objectives. A PSL enables the storage provider to specify the performance and capacity objectives for the workload.  When you assign a PSL on a workload, the corresponding workload on ONTAP is managed by its performance and capacity objectives. Each PSL is governed by peak, expected, and absolute minimum IOPs, and expected latency.


Unified Manager has the following types of PSLs:




System-defined: Unified Manager provides a few canned policies that cannot be changed. These predefined PSLs are:



Extreme Performance


Performance


Value

The Extreme Performance, Performance, and Value PSLs are applicable for most of the common storage workloads in a data center.


Unified Manager also offers three Performance Service Levels for database applications. These are extremely high-performance PSLs that support bursty IOPS and are appropriate for database applications with the highest throughput demand.



Extreme for Database Logs


Extreme for Database Shared Data


Extreme for Database Data





User-defined: If the predefined Performance Service Levels do not meet your requirements, then you can create new PSLs to meet your needs. For information, see Creating and editing Performance Service Levels.


Beyond Extreme: The Beyond Extreme PSLs are the system-recommended PSLs that are suggested for workloads that demand IOPs higher than Extreme. The workloads are internally analyzed based on their IOPS, capacity, and latency, and a Beyond Extreme PSL is recommended for each of these workloads on the Storage > Workloads > All Workloads screen. You can apply the PSLs to the workloads to ensure an optimum performance.

The IOPs parameters for the workloads are dynamically generated, depending on the workload behavior, and appended to the name of the Beyond Extreme PSL in the format Beyond Extreme <number-(peak IOPS/TB)> <number(expected IOPS/TB)>. For example, if the system determines a workload to have the peak and expected IOPs as 106345 and 37929 respectively, the Beyond Extreme PSL that is generated for the workload is named as Beyond Extreme 106345 37929. Though these PSLs are recommended by the system, when you assign them to workloads, these PSLs are labeled as User-defined in type.







Managing workloads by assigning PSLs


You can access PSLs from the Policies > Performance Service Levels page and by using the storage provider APIs. Managing storage workloads by assigning PSLs to them is convenient as you do not have to individually manage the storage workloads. Any modifications can also be managed by reassigning another PSL rather than managing them individually. Unified Manager helps you to assign PSLs on your workloads based on internal assessment and recommendations.


For information on assigning system-recommended PSLs to workloads, see Assigning system-recommended PSLs to workloads


The Performance Service Levels page lists the available PSL policies and enables you to add, edit, and delete them.








You cannot modify a PSL that is system-defined or that is currently assigned to a workload. You cannot delete a PSL that is assigned to a workload, or if it is the only available PSL.





This page displays the following information:








Field
Description





Name


Name of the PSL.




Type


Whether the policy is system-defined or user-defined.




Expected IOPS/TB


Minimum number of IOPS that an application is expected to perform on a LUN or file share. Expected IOPS specifies the minimum expected IOPS allocated, based on the storage object allocated size.




Peak IOPS/TB


Maximum number of IOPS that an application can perform on a LUN or file share. Peak IOPS specifies the maximum possible IOPS allocated, based on the storage object allocated size or the storage object used size.


Peak IOPS are based on an allocation policy. The allocation policy is either allocated-space or used-space. When the allocation policy is set to allocated-space, the peak IOPS is calculated based on the size of the storage object. When the allocation policy is set to used-space, the peak IOPS is calculated based on the amount of data stored in the storage object, taking into account storage efficiencies. By default, the allocation policy is set to used-space.




Absolute minimum IOPS


The absolute minimum IOPS is used as an override, when the expected IOPS is less than this value. The default values of the system-defined PSLs are the following:




Extreme Performance: If expected IOPS >= 6144/TB, then absolute minimum IOPS = 1000


Performance: If expected IOPS >= 2048/TB and < 6144/TB, then absolute minimum IOPS = 500


Value: If expected IOPS >= 128/TB and < 2048/TB, then absolute minimum IOPS = 75




The default values of the system-defined database PSLs are the following:




Extreme for Database Logs: If expected IOPS >= 22528, then absolute minimum IOPS = 4000


Extreme for Database Shared Data: If expected IOPS >= 16384, then absolute minimum IOPS = 2000


Extreme for Database Data: If expected IOPS >= 12288, then absolute minimum IOPS = 2000




The higher value of the absolute minimum IOPS for custom PSLs can be a maximum of 75000. The lower value is calculated as the following:


1000/expected latency




Expected latency


Expected latency for storage IOPS in milliseconds per operation (ms/op).




Capacity


Total available and used capacity in the clusters.




Workloads


Number of storage workloads that have been assigned the PSL.





For information about how the peak IOPS and expected IOPs help in achieving consistent differentiated performance on ONTAP clusters, see the following KB article:
What is Performance Budgeting?


Events generated for workloads breaching the threshold defined by PSLs

Note that if workloads exceed the expected latency value for 30% of the time during the previous hour, Unified Manager generates one of the following events to notify you of a potential performance issue:




Workload Volume Latency Threshold Breached as defined by Performance Service Level Policy


Workload LUN Latency Threshold Breached as defined by Performance Service Level Policy.




You may want to analyze the workload to see what may be causing the higher latency values.


For more information, see the following links:




Volume events


What happens when a performance threshold policy is breached


How Unified Manager uses workload latency to identify performance issues


What performance events are





System-defined PSLs

The following table provides information about the system-defined PSLs:












Performance Service Level
Description and use case
Expected latency (ms/op)
Peak IOPS
Expected IOPS
Absolute minimum IOPS





Extreme Performance


Provides extremely high throughput at a very low latency


Ideal for latency-sensitive applications


1


12288


6144


1000




Performance


Provides high throughput at a low latency


Ideal for database and virtualized applications


2


4096


2048


500




Value


Provides high storage capacity and moderate latency


Ideal for high-capacity applications such as email, web content, file shares, and backup targets


17


512


128


75




Extreme for Database Logs


Provides maximum throughput at the lowest latency.


Ideal for database applications supporting database logs. This PSL provides the highest throughput because database logs are extremely bursty and logging is constantly in demand.


1


45056


22528


4000




Extreme for Database Shared Data


Provides very high throughput at the lowest latency.


Ideal for database applications data that is stored in a common data store, but is shared across databases.


1


32768


16384


2000




Extreme for Database Data


Provides high throughput at the lowest latency.


Ideal for database applications data, such as database table information and metadata.


1


24576


12288


2000